https://thayer.github.io/engs50/Labs/Lab2/
2
33369
<!DOCTYPEhtml><html><head><metacharset="utf-8"><metahttp-equiv="X-UA-Compatible"content="IE=edge"><metaname="viewport"content="width=device-width,initial-scale=1"><title>Lab2-CandBash</title><metaname="description"content="InEngs50youwilllearnhowtodesign&buildlarge,reliable,maintainable,andunderstandablesoftwaresystems.IntheprocessyouwilllearntoprograminCwithUnixdevelopmenttools."><linkrel="shortcuticon"href="/engs50/50.png"/><linkrel="stylesheet"href="/engs50/css/main.css"><linkrel="canonical"href="/engs50/Labs/Lab2/"></head><body><headerclass="site-header"><aclass="site-title"href="/engs50/"><imgwidth=48align=centersrc="/engs50/50.png"alt="icon">Engs50(CS50)</a><navclass="site-nav">[<ahref="/engs50/Labs/">Labs</a>][<ahref="/engs50/Notes/">Notes</a>][<ahref="/engs50/Reading/">Reading</a>][<ahref="/engs50/Resources/">Resources</a>][<ahref="/engs50/Examples/">Examples</a>]</nav></header><divclass="page-content"><divclass="wrapper"><articleclass="post"><headerclass="post-header"><h1class="post-title">Lab2-CandBash</h1></header><divclass="post-content"><p>ThissecondlabisfocusedonthreesmallCprograms,andaregression-testingbashscript.Theystarteasyandgetprogressivelymoredifficult.</p><ulid="markdown-toc"><li><ahref="#reminder"id="markdown-toc-reminder">Reminder</a></li><li><ahref="#preparation"id="markdown-toc-preparation">Preparation</a></li><li><ahref="#assignment"id="markdown-toc-assignment">Assignment</a></li><li><ahref="#regresssh"id="markdown-toc-regresssh">regress.sh</a></li><li><ahref="#chillc"id="markdown-toc-chillc">chill.c</a></li><li><ahref="#wordsc"id="markdown-toc-wordsc">words.c</a></li><li><ahref="#histoc"id="markdown-toc-histoc">histo.c</a><ul><li><ahref="#representing-a-histogram"id="markdown-toc-representing-a-histogram">Representingahistogram</a></li></ul></li><li><ahref="#what-to-hand-in-and-how"id="markdown-toc-what-to-hand-in-and-how">Whattohandin,andhow</a></li></ul><h2id="reminder">Reminder</h2><p>Gradingwillfocuson<ahref="/engs50/Resources/CodingStyle.html">CS50codingstyle</a>-includingconsistentformatting,selectionofidentifiernames,anduseofmeaningfulcomments-inadditiontocorrectnessandtesting.</p><p><strong><em>YourCcodemustcompilewithoutproducinganycompilerwarnings.</em></strong>YouwilllosepointsifthecompilerproduceswarningswhenusingourCS50-standardcompilerflags.</p><p><strong><em>Ifyoursubmittedcodefailstocompile,ortriggersasegmentationfault,</em></strong>we’llnotifyyouandgiveyouanopportunitytorepairandresubmit.(See<em><ahref="/index.html#crashes">programsthatcrash</a>.</em>)</p><h2id="preparation">Preparation</h2><p>Setupfourdirectoriesforthislab:</p><divclass="language-bashhighlighter-rouge"><divclass="highlight"><preclass="highlight"><code><spanclass="nv">$</span><spanclass="nb">cd</span><spanclass="nv">$</span><spanclass="nb">mkdir</span><spanclass="nt">-p</span>cs50/labs/lab2<spanclass="nv">$</span><spanclass="nb">cd</span>cs50/labs/lab2<spanclass="nv">$</span><spanclass="nb">mkdir</span>regresschillhistowords</code></pre></div></div><h2id="assignment">Assignment</h2><p>Pleasefollowthe<ahref="/engs50/Resources/CodingStyle.html">CS50codingstyle</a>.</p><p>Design,write,document,and<strong>fullytest</strong>thefollowingthreeseparateCprogramsandonebashscript.</p><p><strong><em>Pointbreakdown:</em></strong></p><ul><li>(25points)regress.sh</li><li>(25points)chill.c</li><li>(25points)words.c</li><li>(25points)histo.c</li></ul><h2id="regresssh">regress.sh</h2><p><em>Regressiontesting</em>isimportanttoanyqualitysoftware-developmentprocess.Asasoftwareprojectevolves,eachnewrevisionistestedagainstathoroughsuiteoftestcasestoensurethatthenewrevisionstillperformscorrectlywhereithadbefore.Asnewfunctionalityisadded,newtestsareaddedtothesuite.</p><p>Writeabashscript<codeclass="language-plaintexthighlighter-rouge">regress.sh</code>toperformregressiontesting.Itscommandlinelookslike</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>./regress.shdirnametestfilename...</code></pre></div></div><ul><li>where<codeclass="language-plaintexthighlighter-rouge">dirname</code>isthenameofadirectorycontainingtestresults,and</li><li>whereeach<codeclass="language-plaintexthighlighter-rouge">testfilename</code>isthenameofafilecontainingbashcommand(s)foronetestcase.</li></ul><p>Thescriptverifiesthevalidityofitsarguments(exitwithnon-zerostatusonanyerror):</p><ul><li>theremustbeatleasttwoarguments;</li><li>ifsomethingbythename<codeclass="language-plaintexthighlighter-rouge">dirname</code>exists,itmustbeadirectory;</li><li>each<codeclass="language-plaintexthighlighter-rouge">testfilename</code>mustbearegularfileandbereadable.</li></ul><p>Aftercheckingitsarguments,thescriptcreatesnewdirectorywhosenamehastheformYYYYMMDD.HHMMSS,representingthecurrentdateandtime,inthecurrentdirectory.(Forexample,<codeclass="language-plaintexthighlighter-rouge">20170402.143702</code>.)Ifanyerror,exitwithnon-zerostatus.</p><p>Thescriptthenrunseachtestcasewithbash,redirectingstdinfrom<codeclass="language-plaintexthighlighter-rouge">/dev/null</code>,producingfourfilesforeachcase:</p><ul><li><codeclass="language-plaintexthighlighter-rouge">YYYYMMDD.HHMMSS/testfilename.test</code>-acopyof<codeclass="language-plaintexthighlighter-rouge">testfilename</code></li><li><codeclass="language-plaintexthighlighter-rouge">YYYYMMDD.HHMMSS/testfilename.status</code>-theexitstatusof<codeclass="language-plaintexthighlighter-rouge">bashtestfilename</code></li><li><codeclass="language-plaintexthighlighter-rouge">YYYYMMDD.HHMMSS/testfilename.stdout</code>-thestdoutfrom<codeclass="language-plaintexthighlighter-rouge">bashtestfilename</code></li><li><codeclass="language-plaintexthighlighter-rouge">YYYYMMDD.HHMMSS/testfilename.stderr</code>-thestderrfrom<codeclass="language-plaintexthighlighter-rouge">bashtestfilename</code></li></ul><p>Ifthedirectory<codeclass="language-plaintexthighlighter-rouge">dirname</code><em>doesnotexist,</em>YYYYMMDD.HHMMSSisrenamed<codeclass="language-plaintexthighlighter-rouge">dirname</code>.Exit0ifsuccess,non-zeroifanyerror.</p><p>Ifthedirectory<codeclass="language-plaintexthighlighter-rouge">dirname</code><em>alreadyexists,</em>YYYYMMDD.HHMMSSiscomparedwith<codeclass="language-plaintexthighlighter-rouge">dirname</code>toprovideabrieflistingofanydifferences-orthesimplestatement“nodifferences”.Exit0ifnodifferences,non-zeroifdifferences.</p><p>Intypicalusage,thefirsttimethedeveloperruns<codeclass="language-plaintexthighlighter-rouge">regress.sh</code>,thescriptcreatesadirectorybyname<codeclass="language-plaintexthighlighter-rouge">dirname</code>;insubsequentruns,itcomparesthenewtestresultswiththosefromthepriorrun.Overtime,directoriesYYYYMMDD.HHMMSSaccumulate,providingahistoricalrecordoftestresults.</p><h4class="no_toc"id="exit">exit</h4><p>Non-zeroifanyerror,oranydifferencesfromtheearlier<codeclass="language-plaintexthighlighter-rouge">dirname</code>directory.</p><p>Zeroif<codeclass="language-plaintexthighlighter-rouge">dirname</code>createdsuccessfully,ortherewerenodifferencesfromanexisting<codeclass="language-plaintexthighlighter-rouge">dirname</code>.</p><h4class="no_toc"id="example">Example</h4><p>Supposeweused<codeclass="language-plaintexthighlighter-rouge">regress.sh</code>tosupportdevelopmentofthe<codeclass="language-plaintexthighlighter-rouge">shake.sh</code>solution.Thedirectorycontainsthescriptandfourtestfiles,eachwithaone-linecommand.(Here<codeclass="language-plaintexthighlighter-rouge">regress.sh</code>iselsewhereinthePATH.)Westartoutbylistingthefourtestcases,thenrun<codeclass="language-plaintexthighlighter-rouge">regress.sh</code>twice,thenaddatestcase,thenchangeatestcase.Finally,wetestsomeerroneouscases.</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>[lab2]$lsshake.sh*test0test1test2test3[lab2]$cattest?catshake.sh./shake.sh./shake.shlove./shake.shcomputer[lab2]$regress.shbasetest?20170402.143657savedtestresultsinbase[lab2]$regress.shbasetest?20170402.143702comparing20170402.143702withbase...nodifferences.[lab2]$echo./shake.shtwowords&gt;test4[lab2]$regress.shbasetest?20170402.143721comparing20170402.143721withbase...Onlyin20170402.143721:test4.statusOnlyin20170402.143721:test4.stderrOnlyin20170402.143721:test4.stdoutOnlyin20170402.143721:test4.test[lab2]$echo./shake.shrose&gt;test2[lab2]$cattest?catshake.sh./shake.sh./shake.shrose./shake.shcomputer./shake.shtwowords[lab2]$regress.shbasetest?20170402.143806comparing20170402.143806withbase...Filesbase/test2.stdoutand20170402.143806/test2.stdoutdifferFilesbase/test2.testand20170402.143806/test2.testdifferOnlyin20170402.143806:test4.statusOnlyin20170402.143806:test4.stderrOnlyin20170402.143806:test4.stdoutOnlyin20170402.143806:test4.test[lab2]$ls20170402.143702/shake.sh*test320170402.143721/test0test420170402.143806/test1base/test2[lab2]$########nowsomeerrorcases[lab2]$regress.shusage:regress.shdirnametestfilename...[lab2]$regress.shbaseusage:regress.shdirnametestfilename...[lab2]$regress.shtest?firstargument('test0')isnotadirectory[lab2]$regress.sh/basetest?20170402.144605mv:rename20170402.144605to/base:Permissiondeniedfailedtosavetestresultsin/base;theyremainin20170402.144605[lab2]$regress.shbasetestingtestcase'testing'isnotafile(ornotreadable)[lab2]$regress.shbasebasetestcase'base'isnotafile(ornotreadable)[lab2]$chmod-rtest?[lab2]$regress.shbasetest?testcase'test0'isnotafile(ornotreadable)[lab2]$</code></pre></div></div><p>Noteabovehowweusethebashglobbingsyntax<codeclass="language-plaintexthighlighter-rouge">?</code>toindicateawildcardthatmatchesanysinglecharacter;thus,<codeclass="language-plaintexthighlighter-rouge">test?</code>expandsto</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>test0test1test2test3test4</code></pre></div></div><p>Notehow<codeclass="language-plaintexthighlighter-rouge">test0</code>simplyprintsthecurrentcopyof<codeclass="language-plaintexthighlighter-rouge">shake.sh</code>,whichaddsnicelytothehistoricrecord.</p><blockquote><p>Thenameoftestfilesisnotimportantto<codeclass="language-plaintexthighlighter-rouge">regress.sh</code>,butadevelopmentteammaywanttoagreeonanamingconvention.Forexample,supposeyouchosetonamethemallwithextension<codeclass="language-plaintexthighlighter-rouge">.test</code>.Ifyouhadsavedthefirstrunof<codeclass="language-plaintexthighlighter-rouge">regress.sh</code>inadirectorynamed<codeclass="language-plaintexthighlighter-rouge">base</code>,youcouldthenrunfuturetestsas</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>./regress.shbase*.test</code></pre></div></div></blockquote><p>Justtobeclear,eachtestfilecontainsbashcommand(s),andyour<codeclass="language-plaintexthighlighter-rouge">regress.sh</code>scriptshouldexecutethosecommandsbyrunningbashandproviding<codeclass="language-plaintexthighlighter-rouge">testfilename</code>asanargument.(Recallhowwedidthetestcasesfor<codeclass="language-plaintexthighlighter-rouge">shake.sh</code>.)Butyoushouldruneachtestonly<em>once</em>withinanygivenrunof<codeclass="language-plaintexthighlighter-rouge">regress.sh</code>–notonlyisthatmoreefficient,it’spossiblethatthecommandswithinsometestfilesmightactuallynotbeamenabletobeingrunmultipletimes(e.g.,iftheyhavesideeffectslikecreatingorremovingfiles).</p><p>It’seasilypossibletoredirectthestdin,stdout,andstderr,allinonerunofatest-andtocatchtheexitstatusofthatrun.</p><h4class="no_toc"id="assumptions">Assumptions</h4><p>Pleaseexpectthatdirnamenamesadirectorythatcouldbeanywhere-notnecessarilyasubdirectoryofthecurrentworkingdirectory.(Thisassumptionshouldnotcomplicateyourwork.)</p><p>Pleaseassumethatthetestfilenamesnamefilesthat<em>are</em>inthecurrentdirectory.(Inprinciple,weshouldsupporttestfilesfromanywhere,butit’sabittrickier;thisassumptionsimplifiesyourwork.Yourscriptneednotvalidatetheassumption-justassumeit.)</p><p>Please<em>donotassume</em>thatthescriptitself,regress.sh,isinthecurrentworkingdirectory.(Thisassumptionshouldnotcomplicateyourwork.)</p><h4class="no_toc"id="hints">Hints</h4><blockquote><p>Checkoutthe<codeclass="language-plaintexthighlighter-rouge">date</code>commandandits<codeclass="language-plaintexthighlighter-rouge">+</code>option.</p><p>Checkoutthe<codeclass="language-plaintexthighlighter-rouge">diff--brief</code>commandform.</p><p>Checkoutthe<codeclass="language-plaintexthighlighter-rouge">shift</code>built-inbashcommandandthis<ahref="/engs50/Examples/shifter.sh">exampleSHIFTINGfile</a>.</p></blockquote><h2id="chillc">chill.c</h2><p>Writeaprogramtocalculate“windchill”basedonthecurrenttemperatureandwindspeed.Thestandardformulaforthiscalculationis:</p><pre><codeclass="language-Matlab">WindChill=35.74+0.6215T-35.75(V^0.16)+0.4275T(V^0.16)</code></pre><p>where<codeclass="language-plaintexthighlighter-rouge">T</code>isthetemperatureindegreesFahrenheit(whenlessthan50)and<codeclass="language-plaintexthighlighter-rouge">V</code>isthewindvelocityinmilesperhour.The<codeclass="language-plaintexthighlighter-rouge">^</code>characterdenotesexponentiation.Notethattheaboveformulais<em>not</em>inCprogramminglanguagesyntax.</p><h4class="no_toc"id="input">input</h4><p>Noinputfiles;stdinisignored.</p><p>Theusermayrunyourprogramwithnoarguments,oneargument,ortwoargumentsasexplainedbelow.</p><h4class="no_toc"id="output-no-arguments">output:noarguments</h4><p>Iftheuserprovidesnoargumentstoyourprogram,itshouldprintoutatableoftemperatures(from-10to+40by10’s)andandwindspeeds(from5to15by5’s).Youroutputshouldlooksimilartothefollowing,withnicecolumnsandtitles:</p><divclass="language-bashhighlighter-rouge"><divclass="highlight"><preclass="highlight"><code><spanclass="nv">$</span>./chillTempWindChill<spanclass="nt">----</span><spanclass="nt">----</span><spanclass="nt">-----</span><spanclass="nt">-10</span>5<spanclass="nt">-22</span>.3<spanclass="nt">-10</span>10<spanclass="nt">-28</span>.3<spanclass="nt">-10</span>15<spanclass="nt">-32</span>.205<spanclass="nt">-10</span>.5010<spanclass="nt">-15</span>.9015<spanclass="nt">-19</span>.41051.21010<spanclass="nt">-3</span>.51015<spanclass="nt">-6</span>.620513.020108.920156.230524.7301021.2301519.040536.5401033.6401531.8</code></pre></div></div><h4class="no_toc"id="output-one-argument">output:oneargument</h4><p>Iftheuserprovidesoneargument,itwillassumedtobeatemperature(expressedasafloating-pointnumber).Ifthattemperatureislessthan50,itisacceptable;<codeclass="language-plaintexthighlighter-rouge">chill</code>thenprintsatableofwindspeeds(from5to15by5’s)andthecalculatedwindchills<em>forthattemperatureonly</em>.Yourprogram’soutputforoneargumentshouldlooklikethis:</p><divclass="language-bashhighlighter-rouge"><divclass="highlight"><preclass="highlight"><code><spanclass="nv">$</span>./chill32TempWindChill<spanclass="nt">-----</span><spanclass="nt">----</span><spanclass="nt">-----</span>32527.1321023.7321521.6</code></pre></div></div><h4class="no_toc"id="output-two-arguments">output:twoarguments</h4><p>Iftheuserprovidestwoarguments,theywillbetemperatureandvelocity,respectively(expressedasfloating-pointnumbers).Thetemperaturemustbelessthan50andthevelocitymustbegreaterthanorequalto0.5.</p><p>Iftheargumentsareacceptable,thenyourprogramshouldcalculateandprintthewindchillfor<em>thattemperatureandvelocityonly</em>.</p><p>Yourprogram’soutputfortwoargumentsshouldlooklikethis:</p><divclass="language-bashhighlighter-rouge"><divclass="highlight"><preclass="highlight"><code><spanclass="nv">$</span>./chill520TempWindChill<spanclass="nt">-----</span><spanclass="nt">----</span><spanclass="nt">-----</span>520<spanclass="nt">-15</span>.4</code></pre></div></div><p>Ifeitherargumentisoutofrange,yourprogramshouldissueamessageandexit.Here’sanexample:</p><divclass="language-bashhighlighter-rouge"><divclass="highlight"><preclass="highlight"><code><spanclass="nv">$</span>./chill55Temperaturemustbelessthan50degreesFahrenheit<spanclass="nv">$</span>./chill<spanclass="nt">-150</span>Temperaturemustbegreaterthan<spanclass="nt">-139</span>Fahrenheit<spanclass="o">(</span>coldestrecordedearthtemperature,seehttps://en.wikipedia.org/wiki/Lowest_temperature_recorded_on_Earth<spanclass="o">)</span><spanclass="nv">$</span>./chill100Windvelocitymustbegreaterthanorequalto0.5MPH</code></pre></div></div><blockquote><p>Intheprecedingexamplessomevalueswereprintedasintegersandsomeasdecimalfractions.Youmayprinteverythingintheformat“x.y”,ifyouwish,butdonotprintmorethanonedecimalplace.Indeed,itmaybewisetousethisformatwhentheuserspecifiestemperatureorwindspeed,becausetheusermayspecifyanon-integralvalueanditmaybemisleadingtoprintitasaninteger.</p></blockquote><h4class="no_toc"id="output-more-than-two-arguments">output:morethantwoarguments</h4><p>printa“usage”lineandexitwitherrorstatus.</p><h4class="no_toc"id="exit-1">exit</h4><p>Iftheprogramterminatesnormally,itexitswithareturncodeof<codeclass="language-plaintexthighlighter-rouge">0</code>.Otherwise,itterminateswithadocumented,non-zeroreturncode.</p><h4class="no_toc"id="compiling">Compiling</h4><p>Youwilllikelyneedthemathlibrary.Touseit,add<codeclass="language-plaintexthighlighter-rouge">#include&lt;math.h&gt;</code>toyour<codeclass="language-plaintexthighlighter-rouge">chill.c</code>file,andadd<codeclass="language-plaintexthighlighter-rouge">-lm</code>toyour<codeclass="language-plaintexthighlighter-rouge">mygcc</code>command.(Thatis“dashellemm”,whichisshortfor“librarymath”.)</p><divclass="language-bashhighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>mygccchill.c<spanclass="nt">-lm</span><spanclass="nt">-o</span>chill</code></pre></div></div><h2id="wordsc">words.c</h2><p>WriteaCprogramreminiscentofoneofthepipelinesweexploredinLab1;specifically,aprogramcalled<codeclass="language-plaintexthighlighter-rouge">words</code>thatbreaksitsinputintoaseriesofwords,oneperline.Itmaytakeinputfromstdin,orfromfileswhosenamesarelistedasarguments.</p><h4class="no_toc"id="usage">usage</h4><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>words[filename]...</code></pre></div></div><h4class="no_toc"id="input-1">input</h4><p>Whennofilenamesaregivenonthecommandline,<codeclass="language-plaintexthighlighter-rouge">words</code>readsfromstdin.</p><p>Whenoneormorefilenamesaregivenonthecommandline,<codeclass="language-plaintexthighlighter-rouge">words</code>readsfromeachfileinsequence.</p><p>Ifthespecialfilename<codeclass="language-plaintexthighlighter-rouge">-</code>isgivenasoneofthefilenames,thestdinisreadatthatpointinthesequence.</p><h4class="no_toc"id="output">output</h4><p>Inanycase,thestdoutshouldconsistofasequenceoflines,withexactlyonewordoneachoutputline(i.e.,eachoutputlinecontainsexactlyonewordandnoothercharacters).A“word”isasequenceofletters.</p><blockquote><p>Althoughyoumaybetemptedtothinkoftheinputasasequenceoflines,itmaybehelpfultothinkofitasasequenceofcharacters.</p></blockquote><blockquote><p>Noteitispossiblefortheoutputtobeempty,iftherearenowordsinanyoftheinputfiles.</p></blockquote><p>Anyerrormessagesarewrittentostderr.</p><h4class="no_toc"id="exit-2">exit</h4><p>Iftheprogramterminatesnormally,itexitswithareturncodeof<codeclass="language-plaintexthighlighter-rouge">0</code>.Otherwise,itterminateswithadocumented,non-zeroreturncode.</p><h4class="no_toc"id="hints-1">hints</h4><blockquote><p>Checkout<codeclass="language-plaintexthighlighter-rouge">manctype</code>onamac,or<codeclass="language-plaintexthighlighter-rouge">manctype.h</code>onaLinuxsystem.</p><p>Considerafunctionthatprocessesafile,givena<codeclass="language-plaintexthighlighter-rouge">FILE*</code>asparameter.</p><p>Woulditbeeasiertoprocessthefile(s)onecharacteratatime?</p></blockquote><h2id="histoc">histo.c</h2><p>Writeaprogramthatreadsaseriesofpositiveintegersfromstdin,andprintsoutahistogram.Thereshouldbe16binsinyourhistogram.Thecatch?Youdon’tknowinadvancethe<em>range</em>ofinputvalues;assumetheintegersrangefrom0tosomeunknownpositivemaximum.Thus,youwillneedtodynamicallyscalethebinsizeforyourhistogram.Anexampleisbelow.</p><h4class="no_toc"id="usage-1">Usage:</h4><p>Therearenocommand-linearguments.</p><h4class="no_toc"id="requirements">Requirements:</h4><p>Youmustbeginwithbinsize1,anddoubleitasneededsoallpositiveintegersobservedoninputfitwithinthehistogram.</p><p>Youmusthave16bins.Thenumber‘16’shouldappearonly<em>once</em>inyourcode.</p><h4class="no_toc"id="input-2">input:</h4><p>Inputisreadfromstdin,whetherfromthekeyboard,redirectedfromafile,orpipedinfromanothercommand.Youcanuseasimple<codeclass="language-plaintexthighlighter-rouge">scanf()</code>forthis.Assumetheinputcontainsonlyintegers,separatedbywhitespace(space,tab,newline).Assumethesmallestintegeriszero;ignoreanynegativeintegers.Ifthereisnon-integernon-spacecontentinthefile,itisokfortheprogramtotreatthatastheendofinput;theprogramshouldnotcrash,orenteraninfiniteloop–itshouldjustsilentlybehaveasiftherearenomoreintegers.(Theseassumptionsmakeiteasytouse<codeclass="language-plaintexthighlighter-rouge">scanf</code>foryourinput.)</p><p>Asalways,anyotherassumptionsyoumakeshouldbedocumentedinyour<codeclass="language-plaintexthighlighter-rouge">README</code>fileandyourtestingprocedureshouldbedocumentedinyour<codeclass="language-plaintexthighlighter-rouge">TESTING</code>file.</p><h4class="no_toc"id="output-1">output:</h4><p>Seeexamplesbelow.</p><h4class="no_toc"id="exit-3">exit</h4><p>Thisprogramhasnoargumentsanddoesnotcheckitsinputforerrors,soitshouldalwaysexitwithzerostatus.</p><h4class="no_toc"id="examples">Examples:</h4><p>Herewecompileandruntheprogram,andtypeasetofnumbers(spreadoverthreelines,butitdoesn’tmatteraslongasweputspaceornewlinebetweennumbers),endingwith<codeclass="language-plaintexthighlighter-rouge">ctrl-D</code>onthebeginningofaline.(ThatsendsEOFtotheprogram.)Itthenprintedahistogram,nicelylabelingeachlinewiththerangeofvaluesassignedtothatbin,andprintingarowof<codeclass="language-plaintexthighlighter-rouge">*</code>torepresentthecountofvaluesthatfellintothatbin.</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>$mygcchisto.c-ohisto$./histo16binsofsize1forrange[0,16)3-451708015123533333^D[0:0]**[1:1]*[2:2][3:3]*******[4:4][5:5]**[6:6][7:7]*[8:8]*[9:9][10:10][11:11][12:12]*[13:13][14:14][15:15]*$</code></pre></div></div><p>Thenotation[a,b)includesallvalues<em>x</em>suchthat<em>a&lt;=x&lt;b</em>,thatis,therangeincludes<em>a</em>butdoesnotinclude<em>b</em>.Forexample,[0,4)={0,1,2,3}.</p><p>Nowwatchwhathappensifweinputanumberoutsidetheoriginalrangeof[0,16).</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>$./histo16binsofsize1forrange[0,16)3-45170801512351816binsofsize2forrange[0,32)1920307125016binsofsize4forrange[0,64)34321944^D[0:3]*****[4:7]****[8:11]*[12:15]***[16:19]***[20:23]*[24:27][28:31]*[32:35]**[36:39][40:43][44:47]*[48:51]*[52:55][56:59][60:63]$</code></pre></div></div><p>Eachtimeitseesanumberoutsidethecurrentrange,itdoublestherangeanddoublesthesizeofeachbin.(Noticealsothe[low:high]labelsinthehistogram;thisnotationincludesboth<em>low</em>and<em>high</em>andeverythinginbetween.)Itmighthavetorepeatthedoublingifweputinanumberwellpastthecurrentbinsize:</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>$./histo16binsofsize1forrange[0,16)15016binsofsize2forrange[0,32)16binsofsize4forrange[0,64)16binsofsize8forrange[0,128)16binsofsize16forrange[0,256)^D[0:15][16:31][32:47][48:63][64:79][80:95][96:111][112:127][128:143][144:159]*[160:175][176:191][192:207][208:223][224:239][240:255]$</code></pre></div></div><p>Here’sanexampleusingbashsyntaxtogeneratealistofnumbers,andpipingtheoutputto<codeclass="language-plaintexthighlighter-rouge">histo</code>:</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>$echo{1..16}150|./histo16binsofsize1forrange[0,16)16binsofsize2forrange[0,32)16binsofsize4forrange[0,64)16binsofsize8forrange[0,128)16binsofsize16forrange[0,256)[0:15]***************[16:31]*[32:47][48:63][64:79][80:95][96:111][112:127][128:143][144:159]*[160:175][176:191][192:207][208:223][224:239][240:255]$</code></pre></div></div><p>Althoughwescalethebinsize(xaxis),I’mnotaskingyoutoscalethebincount(yaxis)forprinting,whichcanleadtosomereallywideoutput:</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>$echo{1..100}1500|./histo16binsofsize1forrange[0,16)16binsofsize2forrange[0,32)16binsofsize4forrange[0,64)16binsofsize8forrange[0,128)16binsofsize16forrange[0,256)16binsofsize32forrange[0,512)16binsofsize64forrange[0,1024)16binsofsize128forrange[0,2048)[0:127]****************************************************************************************************[128:255][256:383][384:511][512:639][640:767][768:895][896:1023][1024:1151][1152:1279][1280:1407][1408:1535]*[1536:1663][1664:1791][1792:1919][1920:2047]$</code></pre></div></div><p>Wetooksomepainstoformatthe[low:high]rangeindicatorsforeachrow,usingafixed-widthfieldjustwideenoughtoholdthebiggestnumber.It’sanicetouch(read<codeclass="language-plaintexthighlighter-rouge">manprintf</code>forsomeclues)butit’sokifyoumakeasimplerassumption(e.g.,alwaysuse6-digitfieldwidth).</p><h4id="representing-a-histogram">Representingahistogram</h4><p>Youwillneedanarrayof16binstorepresentthenumberofintegersobservedineachbin.You’llneedtokeeptrackofthebinsizeandtherangeofthehistogram.Ifyouobserveavalueoutsidetherange,youshoulddoublethebinsizeandrange-butfirstyouneedtocompressthecurrent16binsintothefirst8bins.You’lllikelyneedonelooptocomputethenewvaluesforthelowerhalfofthebins(eachbinreceivingthesumoftwobins’counts),andthenanothertoassignthenewvalue(0)totheupperhalfofthebins.</p><p>(Again:thenumber‘16’mayonlyoccur<em>once</em>inyourcode;scatteringhard-codednumbersaroundyourcodeisbadstyle.)</p><p>Noticethatthenumberofbins,binsize,andhistogramrangeareallpowersof2.</p><h2id="what-to-hand-in-and-how">Whattohandin,andhow</h2><p>MakesuretocompileandtestyoursolutionsononeofthemachinesinM210.Ifyouchoosetodevelopyoursolutionsonsomeothersystem,youareresponsibletoensurethattheworkyousubmitrunscorrectlyonamachineinM210—whichiswherewherewewilltestit!</p><ul><li><p>Inadditiontoyourcode,eachofthefoursubdirectoriesof<codeclass="language-plaintexthighlighter-rouge">lab2</code>mustincludetwosimpletextfiles:</p><p>a.<codeclass="language-plaintexthighlighter-rouge">README</code>,whichdescribeshowyourprogramshouldbecompiledandexecuted,alongwithanexplanationofanyassumptionsyoumadeabouttheassignment.Seethe<ahref="/engs50/Examples/subtemplate-README.txt">exampleREADMEfile</a>.</p><p>b.<codeclass="language-plaintexthighlighter-rouge">TESTING</code>,whichdescribeshowyoutestedtheprogram,includingtestinputsandtestscripts;thesetestinputsandtestscriptsshouldbeincludedasfilesinthesamedirectory.</p></li></ul><blockquote><p>Seethe<ahref="/engs50/Examples/subtemplate-TESTING.txt">exampleTESTINGfile</a>;inthatcasewewouldnotneedtoincludetestinginputsbecausetheywereCS50-providedfiles,orgeneratedwithinthetestingfileitself.(WecreatedthisfileinMacOSTerminalbychoosing“ExportTextAs…”fromtheShellmenuwhenwehadfinishedallthetestingcommands,weediteditwithemacstoaddthecomments.</p></blockquote><p>Whenfinished,youshouldhavethefollowingfiles:</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>lab2├──chill│  ├──README│  ├──TESTING│  └──chill.c├──histo│  ├──README│  ├──TESTING│  ├──histo.c├──regress│  ├──README│  ├──TESTING│  └──regress.sh└──words├──README├──TESTING└──words.c</code></pre></div></div><blockquote><p>Thislistingwasproducedbythe<codeclass="language-plaintexthighlighter-rouge">tree</code>command.Neat,huh?</p></blockquote></div></article></div></div><footerclass="site-footer"><divclass="wrapper"><h2class="footer-heading">Engs50(CS50)--DartmouthCollege</h2><p><fontsize=-1>ThisversionofthecourseisbaseduponthosedesignedbyProfessorsPalmer,Kotz,Zhou,Campbell,andBalkcom.Iamdeeplyindebtedtotheseoutstandingeducators.--<ahref="https://engineering.dartmouth.edu/people/faculty/stephen-taylor/">StephenTaylor</a></font></p><p><small>Thispagewaslastupdatedon<strong>2023-01-05</strong>at<strong>11:31</strong>.</small></p></div></footer></body></html>
