https://thayer.github.io/engs50/Resources/XQuartz/
2
13670
<!DOCTYPEhtml><html><head><metacharset="utf-8"><metahttp-equiv="X-UA-Compatible"content="IE=edge"><metaname="viewport"content="width=device-width,initial-scale=1"><title>InstallX11onMacOSX;and,usinggtk+</title><metaname="description"content="InEngs50youwilllearnhowtodesign&buildlarge,reliable,maintainable,andunderstandablesoftwaresystems.IntheprocessyouwilllearntoprograminCwithUnixdevelopmenttools."><linkrel="shortcuticon"href="/engs50/50.png"/><linkrel="stylesheet"href="/engs50/css/main.css"><linkrel="canonical"href="/engs50/Resources/XQuartz/"></head><body><headerclass="site-header"><aclass="site-title"href="/engs50/"><imgwidth=48align=centersrc="/engs50/50.png"alt="icon">Engs50(CS50)</a><navclass="site-nav">[<ahref="/engs50/Labs/">Labs</a>][<ahref="/engs50/Notes/">Notes</a>][<ahref="/engs50/Reading/">Reading</a>][<ahref="/engs50/Resources/">Resources</a>][<ahref="/engs50/Examples/">Examples</a>]</nav></header><divclass="page-content"><divclass="wrapper"><articleclass="post"><headerclass="post-header"><h1class="post-title">InstallX11onMacOSX;and,usinggtk+</h1></header><divclass="post-content"><p>OnMacOSX,<strong>XQuartz</strong>enablesyoutousetheX11windowsystem.</p><h4id="1-install-xquartz-application">1.InstallXQuartzapplication</h4><p>HereweprovidetwowaystoinstallXQuartzapplication.YoucouldeitherinstallfromofficialwebsiteorinstallwithHomebrew.Ingeneral,werecommendyoutouseHomebrewtoinstallandmanagepackagesonMacOSX.</p><ol><li>Downloadandinstalldirectlyfrom<ahref="https://www.xquartz.org/">XQuartz</a>.</li><li>Installwith<strong><ahref="http://www.cs.dartmouth.edu/~cs50/Resources/Homebrew.html">Homebrew</a></strong>.Therearetwosteps:1.<strong><ahref="https://caskroom.github.io/">HomebrewCask</a></strong>isanextensionofHomebrew.ItinstallsGUIapplicationsundertheframeworkofHomebrew.Install<strong>HomebrewCask</strong>withcommand<codeclass="language-plaintexthighlighter-rouge">brewtapcaskroom/cask</code>.2.InstallXQuartzwithcommand<codeclass="language-plaintexthighlighter-rouge">brewcaskinstallxquartz</code>.</li></ol><h4id="2-validate-x11-installation-on-your-mac">2.ValidateX11installationonyourMac</h4><p>OpenXQuartzapplicationfromthelaunchpadonyourMactoseeifitisinstalledcorrectly.Itwillopenan<codeclass="language-plaintexthighlighter-rouge">xterm</code>window.Ifthatdoesnotworkimmediately,tryrestartingyourcomputer.<imgsrc="/engs50/Resources/XQuartz/xquartz.png"alt="xquartz"/></p><h4id="3-validate-x11-connection-to-remote-server">3.ValidateX11connectiontoremoteserver</h4><p>Next,tryrunninganX11applicationononeoftheCS50Unixservers.LogintoaCS50UnixserverandlaunchanX11application,suchas<codeclass="language-plaintexthighlighter-rouge">xclock</code>or<codeclass="language-plaintexthighlighter-rouge">xemacs</code>.Foralittlefun,try<codeclass="language-plaintexthighlighter-rouge">xeyes</code>.</p><divclass="language-plaintexthighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>ssh-Xusername@flume.cs.dartmouth.eduxpdf</code></pre></div></div><p>The<codeclass="language-plaintexthighlighter-rouge">-X</code>optionto<codeclass="language-plaintexthighlighter-rouge">ssh</code>setsupX11forwardingfor<codeclass="language-plaintexthighlighter-rouge">ssh</code>connections.Thatis,itsetsupasecuretunnelbetweentheprogram(like<codeclass="language-plaintexthighlighter-rouge">xclock</code>)runningontheserverandtheXQuartzapplicationonyourMac;theprogramcancreatewindows,buttons,menus,etc.;alltheinformationflowsthroughthesshtunneltoXQuartz,whichrendersthewindowsonyourMac.ItworkswithallCS50Unixservers.<codeclass="language-plaintexthighlighter-rouge">xpdf</code>willopenapdfviewerinXwindowssystemonyourlocalcomputer.Hereâ€™sanxpdfwindow.<imgsrc="/engs50/Resources/XQuartz/xpdf.png"alt="xpdf"/></p><p><strong>Note</strong></p><p>Awarningmayshowupsaying<codeclass="language-plaintexthighlighter-rouge">$Home/.Xauthoritydoesnotexist</code>ifitisyourfirsttimetouseX11.The<codeclass="language-plaintexthighlighter-rouge">Xauthority</code>filewillbeconfiguredautomaticallyatthefirstrun.Fromthenon,thewarningshouldnotappear.</p><p><strong>Reference</strong></p><p><ahref="https://uit.stanford.edu/service/sharedcomputing/moreX">UsingX-windows</a></p><h2id="your-first-gtk-application">YourfirstGTK+application</h2><p>IfyouneedaGUI(graphicaluserinterface),werecommendthe<codeclass="language-plaintexthighlighter-rouge">gtk+</code>library,whichisapopularUItoolkitfortheX11windowsystem.Therearetwoversionsof<codeclass="language-plaintexthighlighter-rouge">gtk+</code>libraries:<codeclass="language-plaintexthighlighter-rouge">gtk+-2</code>(version2)and<codeclass="language-plaintexthighlighter-rouge">gtk+-3</code>(version3).<codeclass="language-plaintexthighlighter-rouge">gtk+-2</code>isstillalivebutwerecommendthelatestversion,<codeclass="language-plaintexthighlighter-rouge">gtk+-3</code>.BothversionsarereadytouseonourCS50Unixservers,soyouneedtospecifytheversiontoworkwithatcompiletime.</p><p>The<ahref="/engs50/Resources/XQuartz/gtk-example.c">gtk-example.c</a>exampleprogram,below,uses<codeclass="language-plaintexthighlighter-rouge">gtk+-3</code>.Itopensawindowwithasimplebutton,asshownbelowthecode.Feelfreetouse!</p><divclass="language-chighlighter-rouge"><divclass="highlight"><preclass="highlight"><code><spanclass="cm">/**filename:gtk-example.c*source:https://developer.gnome.org/gtk3/stable/gtk-getting-started.html*/</span><spanclass="cp">#include&lt;gtk/gtk.h&gt;</span><spanclass="k">static</span><spanclass="kt">void</span><spanclass="nf">print_hello</span><spanclass="p">(</span><spanclass="n">GtkWidget</span><spanclass="o">*</span><spanclass="n">widget</span><spanclass="p">,</span><spanclass="n">gpointer</span><spanclass="n">data</span><spanclass="p">)</span><spanclass="p">{</span><spanclass="n">g_print</span><spanclass="p">(</span><spanclass="s">"HelloWorld</span><spanclass="se">\n</span><spanclass="s">"</span><spanclass="p">);</span><spanclass="p">}</span><spanclass="k">static</span><spanclass="kt">void</span><spanclass="nf">activate</span><spanclass="p">(</span><spanclass="n">GtkApplication</span><spanclass="o">*</span><spanclass="n">app</span><spanclass="p">,</span><spanclass="n">gpointer</span><spanclass="n">user_data</span><spanclass="p">)</span><spanclass="p">{</span><spanclass="n">GtkWidget</span><spanclass="o">*</span><spanclass="n">window</span><spanclass="p">;</span><spanclass="n">GtkWidget</span><spanclass="o">*</span><spanclass="n">button</span><spanclass="p">;</span><spanclass="n">GtkWidget</span><spanclass="o">*</span><spanclass="n">button_box</span><spanclass="p">;</span><spanclass="n">window</span><spanclass="o">=</span><spanclass="n">gtk_application_window_new</span><spanclass="p">(</span><spanclass="n">app</span><spanclass="p">);</span><spanclass="n">gtk_window_set_title</span><spanclass="p">(</span><spanclass="n">GTK_WINDOW</span><spanclass="p">(</span><spanclass="n">window</span><spanclass="p">),</span><spanclass="s">"Window"</span><spanclass="p">);</span><spanclass="n">gtk_window_set_default_size</span><spanclass="p">(</span><spanclass="n">GTK_WINDOW</span><spanclass="p">(</span><spanclass="n">window</span><spanclass="p">),</span><spanclass="mi">200</span><spanclass="p">,</span><spanclass="mi">200</span><spanclass="p">);</span><spanclass="n">button_box</span><spanclass="o">=</span><spanclass="n">gtk_button_box_new</span><spanclass="p">(</span><spanclass="n">GTK_ORIENTATION_HORIZONTAL</span><spanclass="p">);</span><spanclass="n">gtk_container_add</span><spanclass="p">(</span><spanclass="n">GTK_CONTAINER</span><spanclass="p">(</span><spanclass="n">window</span><spanclass="p">),</span><spanclass="n">button_box</span><spanclass="p">);</span><spanclass="n">button</span><spanclass="o">=</span><spanclass="n">gtk_button_new_with_label</span><spanclass="p">(</span><spanclass="s">"HelloWorld"</span><spanclass="p">);</span><spanclass="n">g_signal_connect</span><spanclass="p">(</span><spanclass="n">button</span><spanclass="p">,</span><spanclass="s">"clicked"</span><spanclass="p">,</span><spanclass="n">G_CALLBACK</span><spanclass="p">(</span><spanclass="n">print_hello</span><spanclass="p">),</span><spanclass="nb">NULL</span><spanclass="p">);</span><spanclass="n">g_signal_connect_swapped</span><spanclass="p">(</span><spanclass="n">button</span><spanclass="p">,</span><spanclass="s">"clicked"</span><spanclass="p">,</span><spanclass="n">G_CALLBACK</span><spanclass="p">(</span><spanclass="n">gtk_widget_destroy</span><spanclass="p">),</span><spanclass="n">window</span><spanclass="p">);</span><spanclass="n">gtk_container_add</span><spanclass="p">(</span><spanclass="n">GTK_CONTAINER</span><spanclass="p">(</span><spanclass="n">button_box</span><spanclass="p">),</span><spanclass="n">button</span><spanclass="p">);</span><spanclass="n">gtk_widget_show_all</span><spanclass="p">(</span><spanclass="n">window</span><spanclass="p">);</span><spanclass="p">}</span><spanclass="kt">int</span><spanclass="nf">main</span><spanclass="p">(</span><spanclass="kt">int</span><spanclass="n">argc</span><spanclass="p">,</span><spanclass="kt">char</span><spanclass="o">**</span><spanclass="n">argv</span><spanclass="p">)</span><spanclass="p">{</span><spanclass="n">GtkApplication</span><spanclass="o">*</span><spanclass="n">app</span><spanclass="p">;</span><spanclass="kt">int</span><spanclass="n">status</span><spanclass="p">;</span><spanclass="n">app</span><spanclass="o">=</span><spanclass="n">gtk_application_new</span><spanclass="p">(</span><spanclass="s">"org.gtk.example"</span><spanclass="p">,</span><spanclass="n">G_APPLICATION_FLAGS_NONE</span><spanclass="p">);</span><spanclass="n">g_signal_connect</span><spanclass="p">(</span><spanclass="n">app</span><spanclass="p">,</span><spanclass="s">"activate"</span><spanclass="p">,</span><spanclass="n">G_CALLBACK</span><spanclass="p">(</span><spanclass="n">activate</span><spanclass="p">),</span><spanclass="nb">NULL</span><spanclass="p">);</span><spanclass="n">status</span><spanclass="o">=</span><spanclass="n">g_application_run</span><spanclass="p">(</span><spanclass="n">G_APPLICATION</span><spanclass="p">(</span><spanclass="n">app</span><spanclass="p">),</span><spanclass="n">argc</span><spanclass="p">,</span><spanclass="n">argv</span><spanclass="p">);</span><spanclass="n">g_object_unref</span><spanclass="p">(</span><spanclass="n">app</span><spanclass="p">);</span><spanclass="k">return</span><spanclass="n">status</span><spanclass="p">;</span><spanclass="p">}</span></code></pre></div></div><p><imgsrc="/engs50/Resources/XQuartz/gtk-example.png"alt="gtk-example"/></p><p><strong>Compilingwithgtk+</strong></p><p>Usethefollowingcommandtocompile<ahref="/engs50/Resources/XQuartz/gtk-example.c">gtk-example.c</a>:</p><divclass="language-bashhighlighter-rouge"><divclass="highlight"><preclass="highlight"><code>gcc<spanclass="sb">`</span>pkg-config<spanclass="nt">--cflags</span>gtk+-3.0<spanclass="sb">`</span><spanclass="nt">-o</span>gtk-examplegtk-example.c<spanclass="sb">`</span>pkg-config<spanclass="nt">--libs</span>gtk+-3.0<spanclass="sb">`</span></code></pre></div></div><p><codeclass="language-plaintexthighlighter-rouge">pkg-config--cflagsgtk+-3.0</code>willproducealistofheaderpathsyoumightuseinyourapplicationand<codeclass="language-plaintexthighlighter-rouge">pkg-config--libsgtk+-3.0</code>willproducealistoflibrarypaths.(Noticetheuseofback-ticksforbashcommandsubstitution.)Amoredetailedexplanationcanbefoundinreferencesbelow,whichincludeawell-writtentutorial.</p><p><strong>Reference</strong></p><p><ahref="http://www.gtk.org/documentation.php">gtkdocumentation</a></p><p><ahref="https://developer.gnome.org/gtk3/stable/gtk-getting-started.html">GettingStartedwithGTK+</a></p><p><ahref="https://developer.gnome.org/gtk3/stable/gtk-compiling.html">CompilingGTK+Applications</a></p></div></article></div></div><footerclass="site-footer"><divclass="wrapper"><h2class="footer-heading">Engs50(CS50)--DartmouthCollege</h2><p><fontsize=-1>ThisversionofthecourseisbaseduponthosedesignedbyProfessorsPalmer,Kotz,Zhou,Campbell,andBalkcom.Iamdeeplyindebtedtotheseoutstandingeducators.--<ahref="https://engineering.dartmouth.edu/people/faculty/stephen-taylor/">StephenTaylor</a></font></p><p><small>Thispagewaslastupdatedon<strong>2023-01-05</strong>at<strong>11:31</strong>.</small></p></div></footer></body></html>
